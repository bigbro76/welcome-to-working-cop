<html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><style type="text/css">body {font-family: monospace; font-size: 13px; white-space: pre-wrap;}</style></head><body>&lt;!DOCTYPE html&gt;<br/>&lt;!--[if lt IE 7 ]&gt; &lt;html class=&quot;no-js ie6&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;<br/>&lt;!--[if IE 7 ]&gt;    &lt;html class=&quot;no-js ie7&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;<br/>&lt;!--[if IE 8 ]&gt;    &lt;html class=&quot;no-js ie8&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;<br/>&lt;!--[if (gte IE 9)|!(IE)]&gt;&lt;!--&gt; &lt;html class=&quot;no-js&quot; lang=&quot;en&quot;&gt; &lt;!--&lt;![endif]--&gt;<br/>&lt;head&gt;<br/>&lt;meta charset=&quot;utf-8&quot;&gt;<br/>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;<br/>&lt;link rel=&quot;shortcut icon&quot; href=&quot;/img/favicon.png&quot;&gt;<br/>&lt;title&gt;URL schemes in Working Copy&lt;/title&gt;<br/>&lt;meta name=&quot;author&quot; content=&quot;Anders Borum&quot;&gt;<br/>&lt;meta name=&quot;keywords&quot; content=&quot;iOS,git,repository,programming,automation,workflow,x-callback-url,url scheme&quot;&gt;<br/>&lt;link rel=&quot;mask-icon&quot; href=&quot;/img/mask-icon.svg&quot; color=&quot;#399CFC&quot;&gt;<br/>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;&gt;<br/>&lt;meta name=&quot;apple-itunes-app&quot; content=&quot;app-id=896694807&quot; affiliate-data=&quot;at=1000lHq&quot;&gt;<br/><br/>&lt;meta name=&quot;twitter:card&quot; content=&quot;app&quot;&gt;<br/>&lt;meta name=&quot;twitter:site&quot; content=&quot;@palmin&quot;&gt;<br/>&lt;meta name=&quot;twitter:description&quot; content=&quot;Access Git repositories on the go. Clone, edit, commit and push while taking advantage of iOS advancements allowing other apps to also access repositories.&quot;&gt;<br/>&lt;meta name=&quot;twitter:image&quot; content=&quot;http://WorkingCopyApp.com/img/iPad-Air-Space.jpg&quot;&gt;<br/>&lt;meta name=&quot;twitter:app:name:iphone&quot; content=&quot;Working Copy&quot;&gt;<br/>&lt;meta name=&quot;twitter:app:id:iphone&quot; content=&quot;896694807&quot;&gt;<br/>&lt;meta name=&quot;twitter:app:name:ipad&quot; content=&quot;Working Copy&quot;&gt;<br/>&lt;meta name=&quot;twitter:app:id:ipad&quot; content=&quot;896694807&quot;&gt;<br/><br/>&lt;style&gt;<br/><br/>img.old {<br/>    float: right;<br/>    width: 200px;<br/>    max-width: 50%;<br/>    height: auto;<br/>    margin-left: 10px;<br/>}<br/><br/>img.anim {<br/>    width: 140px;<br/>}<br/><br/>sup {<br/>    font-size: 50%;<br/>}<br/><br/>&lt;/style&gt;<br/>    &lt;script&gt;<br/>        (function(i,s,o,g,r,a,m){i[&apos;GoogleAnalyticsObject&apos;]=r;i[r]=i[r]||function(){<br/>            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),<br/>                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)<br/>        })(window,document,&apos;script&apos;,&apos;//www.google-analytics.com/analytics.js&apos;,&apos;ga&apos;);<br/><br/>        ga(&apos;create&apos;, &apos;UA-2084164-5&apos;, &apos;auto&apos;);<br/>        ga(&apos;send&apos;, &apos;pageview&apos;);<br/><br/>    &lt;/script&gt;<br/>&lt;/head&gt;&lt;body&gt;<br/>&lt;div&gt;<br/>    &lt;header&gt;<br/>        &lt;div class=&quot;outer&quot;&gt;<br/>        &lt;h1 itemprop=&quot;name&quot;&gt;Controlling Working Copy with URL schemes&lt;/h1&gt;<br/><br/>        &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;<br/>         To allow integration with other applications and automated workflows &lt;a href=&quot;/&quot;&gt;Working Copy&lt;/a&gt;<br/>            can be opened with special URL schemes and controlled with<br/>            &lt;a href=&quot;#x-callback-url&quot;&gt;x-callback-url&lt;/a&gt;. Commands that change data<br/>            or read content out of Working Copy is protected by a secret key.<br/>        &lt;/p&gt;<br/>        &lt;/div&gt;<br/>       &lt;/div&gt;<br/>     &lt;/header&gt;<br/><br/>    &lt;div class=&quot;outer&quot;&gt;<br/>        &lt;h2 id=&quot;opening-screens&quot;&gt;Opening Working Copy at specific screens&lt;/h2&gt;<br/>        &lt;div class=&quot;inner&quot;&gt;<br/><br/>        &lt;p&gt;You can open Working Copy and make it go to a specific screen with a URL:<br/>        &lt;/p&gt;<br/>        &lt;pre&gt;working-copy://open?repo=my%20project&amp;amp;path=README.md&amp;amp;mode=content<br/>working-copy://open?repo=my%20project&amp;amp;commit=23f387&amp;amp;mode=status<br/>working-copy://open?repo=https%3A%2F%2Fgithub.com%2Flibgit2%2Flibgit2&amp;amp;branch=develop&lt;/pre&gt;<br/>        &lt;p&gt;Here &lt;em&gt;repo&lt;/em&gt; is either the name of a repository as seen in the list of repositories or<br/>           the full remote URL. If you specify a &lt;em&gt;path&lt;/em&gt;, Working Copy will show the<br/>        given directory or file and if you specify a &lt;em&gt;commit&lt;/em&gt; hash (or prefix) you are shown the given commit.<br/>            You can specify one of &lt;em&gt;path&lt;/em&gt;, &lt;em&gt;commit&lt;/em&gt; or &lt;em&gt;branch&lt;/em&gt; but not more than one.<br/>        &lt;/p&gt;&lt;p&gt;<br/>            You can control what to show such that &lt;em&gt;mode=content&lt;/em&gt; shows file content tab or directory<br/>            contents for directories and repository; &lt;em&gt;mode=changes&lt;/em&gt; shows the Changes-tab and is only valid for<br/>            files, while &lt;em&gt;mode=status&lt;/em&gt; shows the Status-tab for files or Status screen for directories and<br/>            repositories. You can omit the &lt;em&gt;mode&lt;/em&gt; parameter to leave mode unchanged.&lt;/p&gt;<br/>        &lt;p&gt;<br/>            Make sure all parameters are URL-coded and that space is percent- rather than plus-encoded.<br/>        &lt;/p&gt;<br/>      &lt;/div&gt;<br/><br/>        &lt;h2 id=&quot;initiate-cloning&quot;&gt;Initiate cloning&lt;/h2&gt;<br/>     &lt;div class=&quot;inner&quot;&gt;<br/><br/>        &lt;p&gt;You can ask Working Copy to open the clone-dialog with a specific URL awaiting the users<br/>            confirmation:&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://clone?remote=https%3A%2F%2Fgithub.com%2Fgit%2Fgit.git&lt;/pre&gt;<br/>         &lt;/div&gt;<br/><br/>        &lt;h2 id=&quot;show-clone&quot;&gt;Show remote, cloning as needed&lt;/h2&gt;<br/>        &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;If you need to make a link that shows a given remote repository inside &lt;a href=&quot;/&quot;&gt;Working Copy&lt;/a&gt;,<br/>            without knowing whether the user has a existing clone,<br/>            use the &lt;em&gt;show&lt;/em&gt; command that will open the repository if one exists with that remote<br/>            and otherwise initiate cloning.&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://show?remote=https%3A%2F%2Fgithub.com%2Fgit%2Fgit.git&lt;/pre&gt;<br/>       &lt;/div&gt;<br/>    &lt;/div&gt;<br/><br/>&lt;div class=&quot;outer&quot;&gt;<br/>    &lt;h2 id=&quot;x-callback-url&quot;&gt;Callback commands&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;To support workflows and automation, Working Copy has rich support for<br/>        &lt;a href=&quot;http://x-callback-url.com/&quot;&gt;x-callback-url&lt;/a&gt; commands.&lt;/p&gt;&lt;p&gt;<br/>        Because the commands allow reading and writing your sourcecode, they are protected by a &lt;em&gt;key&lt;/em&gt; parameter<br/>        which must match a random alphanumeric code created when you first launch Working Copy on a new device. You can<br/>        edit this key inside settings to get the same code for all your devices making it easier to reuse scripts, but you<br/>        should make sure never to use a &lt;em&gt;key&lt;/em&gt; value you found in some public script, as this would be equivalent to<br/>        sharing a password with everyone else. &lt;/p&gt;<br/><br/>        &lt;p&gt;The following commands are supported, where a ðŸ”’ indicates that the &lt;em&gt;push&lt;/em&gt; feature must<br/>            be unlocked for that command to be available.<br/>        &lt;li&gt;&lt;a href=&quot;#writing&quot;&gt;write&lt;/a&gt; files,&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#reading&quot;&gt;read&lt;/a&gt;&lt;sup&gt;ðŸ”’&lt;/sup&gt; files,&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#moving&quot;&gt;move&lt;/a&gt; files,&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#zipping&quot;&gt;archive&lt;/a&gt;&lt;sup&gt;ðŸ”’&lt;/sup&gt; multiple files,&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#committing&quot;&gt;commit&lt;/a&gt; changes,&lt;/li&gt;<br/>        &lt;li&gt;list file &lt;a href=&quot;#status&quot;&gt;status&lt;/a&gt;,&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#pushing&quot;&gt;push&lt;/a&gt;&lt;sup&gt;ðŸ”’&lt;/sup&gt; to remote and&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#pulling&quot;&gt;pull&lt;/a&gt; from remote.&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#checkout&quot;&gt;checkout&lt;/a&gt; branch.&lt;/li&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#merging&quot;&gt;merge&lt;/a&gt; branches.&lt;/li&gt;<br/>        &lt;li&gt;start or stop the &lt;a href=&quot;#webdav&quot;&gt;WebDAV&lt;/a&gt; server.&lt;/li&gt;&lt;/ul&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#listing&quot;&gt;list&lt;/a&gt; repositories&lt;/li&gt;&lt;/ul&gt;<br/>        &lt;li&gt;show commit &lt;a href=&quot;#log&quot;&gt;log&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#init&quot;&gt;init&lt;/a&gt; empty repository&lt;/li&gt;&lt;/ul&gt;<br/>        &lt;li&gt;&lt;a href=&quot;#chain&quot;&gt;chain&lt;/a&gt; multiple commands&lt;/li&gt;&lt;/ul&gt;<br/>        &lt;/p&gt;<br/>        You can also read a little about creating URL templates in &lt;a href=&quot;#drafts-templates&quot;&gt;Drafts&lt;/a&gt;<br/>        and manually &lt;a href=&quot;#chaining-callbacks&quot;&gt;chaining&lt;/a&gt; together callbacks.<br/>        &lt;/div&gt;<br/><br/>    &lt;h2&gt;URL format for x-callback-url&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;URLs for x-callback-url must have the form:&lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/&amp;lt;command&amp;gt;/?x-success=&amp;lt;escaped-url&amp;gt;&amp;amp;repo=...&amp;amp;key=...&lt;/pre&gt;<br/>    &lt;p&gt;If you include a &lt;em&gt;x-error&lt;/em&gt; parameter it will be used to deliver errors, otherwise errors are shown inside Working Copy.<br/>    Including &lt;em&gt;x-success&lt;/em&gt; is also possible.<br/>    &lt;/p&gt;<br/>    &lt;p&gt; &lt;img class=&quot;old&quot; src=&quot;img/callback-settings.png&quot; alt=&quot;Screenshot with URL callback settings including key.&quot; /&gt;<br/>       <br/>       &lt;p&gt;To avoid very long examples the &lt;em&gt;key&lt;/em&gt; parameter will not be included in every example here,<br/>        but it IS required for every x-callback-url command.<br/>        In order to foil brute-force attempts at guessing the &lt;em&gt;key&lt;/em&gt;, Working Copy<br/>        will show errors related to &lt;em&gt;key&lt;/em&gt; inside the app, but will not be calling &lt;em&gt;x-error&lt;/em&gt;.<br/>       &lt;/p&gt;<br/>    &lt;p&gt;Most commands requires the &lt;em&gt;repo&lt;/em&gt; parameter that specifies which repository the command is about.<br/>     This can either be the name of the repository as seen in the list of repositories in the outermost view of the app or the full<br/>     remote url of the repository. Remember to url-encode &lt;em&gt;repo&lt;/em&gt; just like all other parameters. Space needs to be percent-<br/>     rather than plus-encoded.&lt;/p&gt;<br/>    &lt;p&gt;Many commands require the &lt;em&gt;path&lt;/em&gt; parameter which specifies the file or directory the command<br/>      will act on. Paths are specified relative to the root of the repository where a empty &lt;em&gt;path&lt;/em&gt;<br/>      is the root directory and this the entire repository. Some commands will ask the user to pick<br/>      a file or directory if no &lt;em&gt;path&lt;/em&gt; is specified and others will just use the root directory<br/>      as its default. The details are documented in the section for each command.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;writing&quot;&gt;Writing files&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;&lt;img class=&quot;old&quot; src=&quot;img/my-repo.png&quot; alt=&quot;Screenshot showing README.md as only file in &apos;my repo&apos;&quot; /&gt;<br/>    Write to existing or new files with the &lt;em&gt;write&lt;/em&gt; command. If you include a &lt;em&gt;text&lt;/em&gt; parameter this will<br/>    be the content written to the file at the given &lt;em&gt;path&lt;/em&gt;. The text parameter is transferred as UTF-8 but will<br/>    be written in the encoding of the existing file or UTF-8 for new files. &lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/write/?key=123ABC&amp;amp;repo=my%20repo&amp;amp;path=README.md&amp;amp;text=hello%20there &lt;/pre&gt;<br/>    &lt;p&gt;Include the parameter &lt;em&gt;append=1&lt;/em&gt; to append the &lt;em&gt;text&lt;/em&gt; or clipboard content to<br/>        the existing file. The &lt;em&gt;path&lt;/em&gt; is relative to repository and must &lt;em&gt;not&lt;/em&gt; start with /.&lt;/p&gt;<br/>    &lt;p&gt;If you need to write images or other binary files you can transfer the content as &lt;a href=&quot;http://en.wikipedia.org/wiki/Base64&quot;&gt;base-64&lt;/a&gt;<br/>       by using the parameter &lt;em&gt;base64=&lt;/em&gt; instead of &lt;em&gt;text=&lt;/em&gt;. You need to URL-encode after base-64<br/>       encoding since the characters &lt;em&gt;+&lt;/em&gt; and &lt;em&gt;/&lt;/em&gt; occur after base-64 coding. This can also be handy<br/>       if you want to overwrite the encoding of a existing file.&lt;/p&gt;<br/>    &lt;p&gt;If you do not include either a &lt;em&gt;text&lt;/em&gt; or &lt;em&gt;base64&lt;/em&gt; parameter the clipboard content is written.&lt;/p&gt;<br/>    &lt;p&gt;If no &lt;em&gt;path&lt;/em&gt; parameter is specified the user will be asked to pick a file and if no &lt;em&gt;repo&lt;/em&gt;<br/>    is specified either the user will start out by picking a repository. In these situations you can suggest a filename<br/>        with the &lt;em&gt;filename&lt;/em&gt; parameter and &lt;em&gt;uti&lt;/em&gt; to indicate the<br/>        &lt;a href=&quot;http://en.wikipedia.org/wiki/Uniform_Type_Identifier&quot;&gt;Uniform Type Identifier&lt;/a&gt; such that the<br/>    user can be warned before saving into a file where the name suggests a different type of data. If no<br/>    &lt;em&gt;uti&lt;/em&gt; is specified the default is either &quot;public.plain-text&quot; or &quot;public.item&quot; depending on whether<br/>     content is specified with &lt;em&gt;text&lt;/em&gt; or &lt;em&gt;base64&lt;/em&gt;.&lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/write/?text=hello%20there&amp;amp;filename=test.txt&amp;amp;uti=public.text&lt;/pre&gt;<br/><br/>    &lt;p&gt;Working Copy supports exporting files with a filename with special information such that it can be identified<br/>       as a specific file in a certain repository even though the original filename is used multiple times. To get<br/>       this behaviour in &lt;em&gt;x-callback-url&lt;/em&gt; use the &lt;em&gt;write&lt;/em&gt; command with a &lt;em&gt;filename&lt;/em&gt; but no<br/>       &lt;em&gt;repo&lt;/em&gt; parameter. The filename must be recognized for this to work or you will get a error that the<br/>       file is not known.&lt;/p&gt;<br/>    &lt;p&gt;You can include &lt;em&gt;askcommit=1&lt;/em&gt; to be asked to commit and push the file after saving.&lt;/p&gt;<br/>        &lt;p&gt;To avoid loosing information the command refuses to write to files that have uncommitted changes.<br/>        You can change this behaviour with &lt;em&gt;overwrite=1&lt;/em&gt;.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;reading&quot;&gt;Reading files&lt;sup&gt;ðŸ”’&lt;/sup&gt;&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;You can get the contents of text files with the &lt;em&gt;read&lt;/em&gt; command and result will be URL-encoded and appended to<br/>            the x-success callback.&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/read/?x-success=app://x-callback-url/read?t=/&amp;amp;repo=my%20repo&amp;amp;path=file &lt;/pre&gt;<br/>        &lt;p&gt;will make Working Copy open a url on the form:&lt;/p&gt;<br/>        &lt;pre&gt; app://x-callback-url/read?t=hello%20there&lt;/pre&gt;<br/>        &lt;p&gt;It should be noted that in order to support different apps that want to read text differently and might not<br/>            follow the x-callback-url conventions (&lt;a href=&quot;http://omz-software.com/pythonista/docs/ios/urlscheme.html&quot;&gt;Pythonista&lt;/a&gt;<br/>            being the prime example),<br/>            you should include the parameter name at the end of &lt;em&gt;x-success&lt;/em&gt;<br/>            as in this &lt;a href=&quot;#textastic-example&quot;&gt;Textastic example&lt;/a&gt;. Working Copy tries to be smart about appending<br/>            the file content as &lt;em&gt;&amp;amp;text=...&lt;/em&gt; if it detects a &lt;em&gt;x-callback-url&lt;/em&gt; that would become malformed,<br/>            but your best bet is to format &lt;em&gt;x-success&lt;/em&gt; manually.&lt;/p&gt;<br/>        &lt;p&gt;If you are reading a binary file the result will be transferred as<br/>            &lt;a href=&quot;http://en.wikipedia.org/wiki/Base64&quot;&gt;base-64&lt;/a&gt; and if Working Copy appends the<br/>            parameter name it will be &lt;em&gt;&amp;amp;base64=...&lt;/em&gt; but to ensure the file content is returned<br/>            in base64 coding you include the input parameter &lt;em&gt;base64=1&lt;/em&gt;.&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/read/?x-success=...&amp;amp;repo=my%20repo&amp;amp;path=README.md&amp;amp;base64=1 &lt;/pre&gt;<br/>        &lt;p&gt;If no &lt;em&gt;path&lt;/em&gt; parameter is specified the user will be asked to pick a file and if no &lt;em&gt;repo&lt;/em&gt;<br/>            is specified either the user will start out by picking a repository. You can use &lt;em&gt;uti&lt;/em&gt; to<br/>            specifify the kind of files you want. The user will be warned when picking a file that does not match<br/>            the given &lt;a href=&quot;http://en.wikipedia.org/wiki/Uniform_Type_Identifier&quot;&gt;Uniform Type Identifier&lt;/a&gt;. The<br/>            default value for &lt;em&gt;uti&lt;/em&gt; is &quot;public.plain-text&quot; but this is changed to &quot;public.item&quot;<br/>            if &lt;em&gt;base64&lt;/em&gt; indicates that you accept binary results.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;moving&quot;&gt;Moving files&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;To move or rename files within a repository you use the &lt;em&gt;move&lt;/em&gt; command. Both the &lt;em&gt;source&lt;/em&gt;<br/>            and &lt;em&gt;destination&lt;/em&gt; filenames are relative to the root of the repository.&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/move/?repo=my%20repo&amp;amp;source=from.txt&amp;amp;destination=to.txt&lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;zipping&quot;&gt;Archiving multiple files&lt;sup&gt;ðŸ”’&lt;/sup&gt;&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;If you need to read multiple files you can use the &lt;em&gt;zip&lt;/em&gt; command that will return a base64-coded zip-archive<br/>        of all the files in the directory specified by &lt;em&gt;path&lt;/em&gt;. If you do not specify any &lt;em&gt;path&lt;/em&gt;<br/>        the entire repository is archived and if &lt;em&gt;path&lt;/em&gt; points to a single file, you will get a zip<br/>        containing just this file.&lt;/p&gt;<br/>    &lt;pre&gt;working-copy://x-callback-url/zip/?x-success=my-app://x-callback-url/read?path=/&amp;amp;repo=my%20repo &lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;committing&quot;&gt;Committing changes&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;<br/>      The &lt;em&gt;commit&lt;/em&gt; command can be used on single files, directories or the entire repository.<br/>        You use the &lt;em&gt;path&lt;/em&gt;<br/>      parameter to specify the files to take into account, where a missing or empty parameter means the entire repository is<br/>      checked for modified files to commit. &lt;/p&gt;<br/>      &lt;p&gt;To avoid accidentally committing unexpected changes the &lt;em&gt;limit&lt;/em&gt; parameter is<br/>      checked and if there are more changed files covered by &lt;em&gt;path&lt;/em&gt; than allowed by &lt;em&gt;limit&lt;/em&gt; the commit fails.<br/>      The default is &lt;em&gt;limit=1&lt;/em&gt; but you can set it to large values if you intentionally want to commit<br/>      all changed files.&lt;/p&gt;<br/>      &lt;p&gt;You can supply a &lt;em&gt;message&lt;/em&gt; parameter for the commit message and formatting/wrapping<br/>      this &lt;em&gt;message&lt;/em&gt; in accordance with &lt;a href=&quot;http://git-scm.com/book/ch5-2.html#_commit_guidelines&quot;&gt;best practices&lt;/a&gt;<br/>      is your responsibility.<br/>      &lt;pre&gt;working-copy://x-callback-url/commit/?repo=my%20repo&amp;amp;path=&amp;amp;limit=999&amp;amp;message=fix &lt;/pre&gt;<br/>    &lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;status&quot;&gt;Listing file status&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;<br/>        If you need to determine the status of the repository, the files that are modified or even all the<br/>        files it contains, you can use the &lt;em&gt;status&lt;/em&gt; command. It takes a &lt;em&gt;path&lt;/em&gt; parameter and has the same<br/>        default value and interpretation as for the &lt;a href=&quot;committing&quot;&gt;commit&lt;/a&gt; command. Normally you will only<br/>        get the status for files that have changed since the last commit, but this behaviour can be changed by<br/>        adding the parameter &lt;em&gt;unchanged=1&lt;/em&gt;. &lt;/p&gt;<br/>        &lt;p&gt;If path points to a directory you will get the status for all files in the directory and for sub-directories<br/>        as well. To limit this, you can specify a maximum depth, where &lt;em&gt;depth=1&lt;/em&gt; will include the contents<br/>        of the immediate sub-directories of &lt;em&gt;path&lt;/em&gt; but no deeper.<br/>        &lt;/p&gt;<br/>   &lt;pre&gt;working-copy://x-callback-url/status/?repo=my%20repo&amp;unchanged=1&lt;/pre&gt;<br/>    &lt;pre&gt;[{&quot;name&quot;: &quot;README.md&quot;, &quot;path&quot;: &quot;README.md&quot;, &quot;status&quot;: &quot;modified&quot;, &quot;kind&quot;: &quot;Markdown&quot;, &quot;size&quot;: 355},<br/> {&quot;name&quot;: &quot;src&quot;, &quot;path&quot;: &quot;src&quot;, &quot;status&quot;: &quot;unchanged&quot;, &quot;kind&quot;: &quot;directory&quot;},<br/> {&quot;name&quot;: &quot;main.c&quot;, &quot;path&quot;: &quot;src/main.c&quot;, &quot;status&quot;: &quot;unchanged&quot;, &quot;kind&quot;: &quot;C source&quot;, &quot;size&quot;: 4510}<br/> â€¦â€¦<br/>]&lt;/pre&gt;<br/>    &lt;p&gt;The results are delivered as JSON and note the difference between &lt;em&gt;path&lt;/em&gt; which is relative<br/>    to the root of the repository and &lt;em&gt;name&lt;/em&gt; that is just the filename.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;pushing&quot;&gt;Push to remote&lt;sup&gt;ðŸ”’&lt;/sup&gt;&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;Use the &lt;em&gt;push&lt;/em&gt; command to send commits back to the origin remote. If you need to authenticate, the<br/>    push command will wait until you have entered your credentials. &lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/push/?repo=my%20repo &lt;/pre&gt;<br/>    &lt;p&gt;You can push to other remotes than origin by using the &lt;em&gt;remote&lt;/em&gt; paramater.&lt;/p&gt;<br/>        &lt;pre&gt; working-copy://x-callback-url/push/?repo=my%20repo&amp;amp;remote=heroku &lt;/pre&gt;<br/>    &lt;p&gt;You can push all repositories remotes by using wildcards on the form &lt;em&gt;repo=*&lt;/em&gt; where the asterix matches<br/>        one or more characters, but these wildcards are only resolved against name, not remote URLs.<br/>        As with other special characters &lt;em&gt;*&lt;/em&gt; needs to be URL-encoded as &lt;em&gt;%2A&lt;/em&gt;.&lt;/p&gt;<br/>        &lt;pre&gt; working-copy://x-callback-url/push/?repo=%2A &lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;pulling&quot;&gt;Pull from remote&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;The &lt;em&gt;pull&lt;/em&gt; command fetches and merges changes from your origin remote. If you need to authenticate, the<br/>     pull command will wait until you have entered your credentials. Any merge conflicts will count as a error.&lt;/p&gt;<br/>      &lt;pre&gt; working-copy://x-callback-url/pull/?repo=my%20repo&lt;/pre&gt;<br/>     &lt;p&gt;Just like the &lt;em&gt;push&lt;/em&gt; command you can use the &lt;em&gt;remote&lt;/em&gt; parameter to pull from<br/>      non-origin remotes and &lt;em&gt;repo&lt;/em&gt; parameter can contain wildcards.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;checkout&quot;&gt;Checkout branch&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;If you have no current modifications you can checkout another branch.&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/checkout?repo=my%20repo&amp;branch=develop&lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;merging&quot;&gt;Merge branches&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;Use this command to merge branches programmatically. &lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/merge?repo=my%20repo&amp;branch=develop&lt;/pre&gt;<br/>        &lt;p&gt;The &lt;em&gt;branch&lt;/em&gt; parameter names the branch that will be merged on<br/>          the current branch. You can specify a particular remote for the &lt;em&gt;branch&lt;/em&gt;<br/>            with the &lt;em&gt;remote&lt;/em&gt; parameter using either a remote name or URL.<br/>            This remote will be fetched before merge to make sure remote branch is up-to-date<br/>            and if you specify &lt;em&gt;create=1&lt;/em&gt; the remote will even be created if missing.<br/>          &lt;/p&gt;<br/>        &lt;p&gt;If there are any conflicts the user will be asked to fix these interactively<br/>        followed up by a commit to finish the merge. You can disable this with the<br/>        parameter &lt;em&gt;resolve=0&lt;/em&gt; and merge conflicts will count as error.&lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;webdav&quot;&gt;Control WebDAV Server&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;Use the &lt;em&gt;webdav&lt;/em&gt; command to start or stop the<br/>        &lt;a href=&quot;manual.html#webdav-server&quot;&gt;internal WebDAV server&lt;/a&gt;. The &lt;em&gt;cmd&lt;/em&gt; parameter<br/>    can be either &lt;em&gt;start&lt;/em&gt; or &lt;em&gt;stop&lt;/em&gt; where the default is &lt;em&gt;cmd=start&lt;/em&gt;.&lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/webdav/?cmd=start&lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;listing&quot;&gt;List repositories&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;Use the &lt;em&gt;repos&lt;/em&gt; command to get information about name, status, current branch and remotes for<br/>            all repositories inside Working Copy in JSON format. &lt;/p&gt;<br/>        &lt;pre&gt; working-copy://x-callback-url/repos&lt;/pre&gt;<br/>    &lt;pre&gt;[{&quot;name&quot;:&quot;welcome to working copy&quot;, &quot;branch&quot;:&quot;master&quot;, &quot;head&quot;:&quot;d39002aâ€¦&quot;,<br/>  &quot;status&quot;:&quot;tap to learn more&quot;, &quot;remotes&quot;:[]},<br/> {&quot;name&quot;:&quot;libgit2&quot;, &quot;branch&quot;:&quot;master&quot;, &quot;head&quot;:&quot;e70d822â€¦&quot;, &quot;status&quot;:&quot;nothing to commit&quot;,<br/>  &quot;remotes&quot;:<br/>   [{&quot;name&quot;:&quot;origin&quot;, &quot;fetch&quot;:1,&quot;push&quot;:1,&quot;url&quot;:&quot;https:\/\/github.com\/libgit2\/libgit2.git&quot;}]}<br/>]&lt;/pre&gt;<br/>        &lt;p&gt;It can get a little complicated to work with this JSON, but<br/>            &lt;a target=&quot;app&quot; href=&quot;https://itunes.apple.com/app/workflow-powerful-automation/id915249334?mt=8&amp;at=1000lHq&quot;&gt;Workflow&lt;/a&gt;<br/>            users can try this small<br/>            &lt;a target=&quot;app&quot; href=&quot;https://workflow.is/workflows/a7fb61375f474925a1c047c7e28b3017&quot;&gt;workflow&lt;/a&gt; that<br/>            asks the user to pick one of the available repositories and could be used as a component for something<br/>            bigger. You will need to insert your URL key in the first action.<br/>        &lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;log&quot;&gt;Commit Log&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;You can read a list of commits with the &lt;em&gt;log&lt;/em&gt; command. You need to specify a &lt;em&gt;repo&lt;/em&gt;<br/>            and will get the newest 10 commits in JSON format, unless &lt;em&gt;limit&lt;/em&gt; parameter overrides this.<br/>            To only get commits relevant for particular files or diretories, use the &lt;em&gt;path&lt;/em&gt; parameter<br/>            or use &lt;em&gt;branch&lt;/em&gt; to only get commits for that particular branch.<br/>        &lt;pre&gt; working-copy://x-callback-url/log?repo=my%20repo&lt;/pre&gt;<br/>    &lt;pre&gt;[{&quot;summary&quot;:&quot;fix README.md spelling&quot;,&quot;id&quot;:&quot;af6a47f8a831d17513ec13357d11cf3cab222b19&quot;,<br/>  &quot;author&quot;:&quot;Anders Borum &amp;lt;palmin@users.noreply.github.com&amp;gt;&quot;, &quot;timestamp&quot;:&quot;2017-01-08T15:06:20.000Z&quot;,<br/>  &quot;description&quot;:&quot;&quot;,&quot;parent&quot;:[&quot;133ca4376290313d0359f8ed97a93125a4e2f297&quot;]},<br/><br/>{&quot;summary&quot;:&quot;import image assets&quot;,&quot;id&quot;:&quot;47040b679c5bfd8c99f1d0df7b04c5a9af157adc&quot;,<br/>  &quot;author&quot;:&quot;Anders Borum &amp;lt;palmin@users.noreply.github.com&amp;gt;&quot;, &quot;timestamp&quot;:&quot;2017-01-08T15:05:07.000Z&quot;,<br/>  &quot;description&quot;:&quot;longer description&quot;, &quot;parent&quot;:[&quot;7f03af16e1bbe820ae48d25a27143c5765007930&quot;]}<br/>]&lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;init&quot;&gt;Init empty repository&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;Use the &lt;em&gt;init&lt;/em&gt; command to create a new repository without any files or remotes,<br/>        where &lt;em&gt;name&lt;/em&gt; parameter must not be used by any other repository.&lt;/p&gt;<br/>    &lt;pre&gt; working-copy://x-callback-url/init/?name=new%20repository&lt;/pre&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;chain&quot;&gt;Chain multiple commands&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>    &lt;p&gt;Sometimes you want to run several x-callback-url commands in Working Copy and this becomes<br/>        very convoluted with multiple levels of encoding. You would need to start with the last command and work<br/>        your way to the first building a larger and larger &lt;em&gt;x-success&lt;/em&gt; chain.&lt;/p&gt;<br/>        &lt;p&gt;To achieve the same result, use the &lt;em&gt;chain&lt;/em&gt; command.&lt;/p&gt;<br/><br/>        &lt;pre&gt;working-copy://x-callback-url/chain?repo=my%20repo&amp;amp;command=commit&amp;amp;message=fix&amp;amp;command=push<br/>working-copy://x-callback-url/chain?repo=%2A&amp;amp;command=pull&amp;amp;command=push&lt;/pre&gt;<br/><br/>        &lt;p&gt;You use the &lt;em&gt;command&lt;/em&gt; parameter once for each command. The parameters before the first &lt;em&gt;command&lt;/em&gt;<br/>        parameter is shared by all commands, and parameters meant for a single command is specified after the &lt;em&gt;command&lt;/em&gt;<br/>        it applies to but before the next one. Often parameters &lt;em&gt;key&lt;/em&gt;, &lt;em&gt;repo&lt;/em&gt; and &lt;em&gt;x-error&lt;/em&gt; are shared.&lt;/p&gt;<br/>    &lt;p&gt;<br/>        You can specify &lt;em&gt;x-success&lt;/em&gt; as a shared parameter, but it will only be used<br/>        for the last command since the earlier commands are bound by the command chain.<br/>    &lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;universal-url-arg&quot;&gt;Universal Link parameters&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;p&gt;Inside Working Copy you can create Universal Links that describe repositories or<br/>        files, branches or commits inside repositories with the Share Sheet. &lt;/p&gt;<br/>        &lt;a href=&quot;https://workingcopyapp.com/git/#repo=https://github.com/twbs/bootstrap&amp;path=README.md&quot;&gt;<br/>            &lt;pre&gt;https://workingcopyapp.com/git/#repo=https://github.com/twbs/bootstrap&amp;path=README.md&lt;/pre&gt;&lt;/a&gt;<br/>            &lt;p&gt;Their primary purpose is to make it easy to<br/>        jump to specific content in Working Copy, but they also serve a purpose as x-callback-url<br/>        parameters. You can include a Universal Link in the &lt;em&gt;url&lt;/em&gt; parameter and all the inner<br/>            parameters will be extracted and used making the following two commands equivalent:&lt;/p&gt;<br/>        &lt;pre&gt;working-copy://x-callback-url/read?url=https%3A%2F%2Fworkingcopyapp.com%2Fgit%2F%23repo%3Dhttps%3A%2F%2Fgithub.com%2Ftwbs%2Fbootstrap%26path%3DREADME.md<br/>working-copy://x-callback-url/read?repo=https://github.com/twbs/bootstrap&amp;path=README.md<br/>        &lt;/pre&gt;<br/>        &lt;p&gt;This is useful when you start a Workflow from within Working Copy, as you can specify<br/>           the file, directory or repository to act on and send this along as a single parameter.<br/>        &lt;/p&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;drafts-templates&quot;&gt;Drafts Templates&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/>        &lt;div class=&quot;right&quot;&gt;<br/>            &lt;img class=&quot;right animated&quot; src=&quot;img/drafts-example.jpg&quot; onload=&quot;imgLoaded(this)&quot; /&gt;<br/>        &lt;/div&gt;<br/>       &lt;p&gt;<br/>        If you are using<br/>        &lt;a target=&quot;app&quot; href=&quot;https://itunes.apple.com/app/id905337691?mt=8&amp;amp;uo=4&amp;amp;at=1000lHq&quot;&gt;Drafts&lt;/a&gt;<br/>        by &lt;a target=&quot;app&quot; href=&quot;http://agiletortoise.com/drafts/&quot;&gt;Agile Tortoise&lt;/a&gt;,<br/>           there are some tricks that make it much easier to make<br/>           &lt;a target=&quot;app&quot; href=&quot;https://agiletortoise.zendesk.com/hc/en-us/articles/202843484-Templates-and-Tags&quot;&gt;URL templates&lt;/a&gt;.<br/>           First line in a draft can be referenced as &lt;em&gt;[[title]]&lt;/em&gt; and the remainder as &lt;em&gt;[[body]]&lt;/em&gt;.<br/>       &lt;/p&gt;<br/>        &lt;p&gt;<br/>            Often you want to send a draft into Working Copy. You need to use the<br/>            &lt;a href=&quot;#writing&quot;&gt;write&lt;/a&gt; command, specifying filename (path), repository (repo),<br/>            access key (key), content (text) and perhaps you want to jump back to Drafts when done (x-success={{drafts://}}).<br/>        &lt;/p&gt;<br/>        &lt;p&gt;Imagine that you need to create a new Jekyll post<br/>        from a draft. The date determines the filename and the content is a combination of YAML front matter<br/>        and content. Note how &lt;em&gt;%0a&lt;/em&gt; is encoded manually to have newline in the front matter.&lt;/p&gt;<br/>        &lt;p&gt;For more complicated actions it is probably a good idea to use javascript to compose the URL<br/>        with the &lt;a target=&quot;app&quot; href=&quot;https://agiletortoise.zendesk.com/hc/en-us/articles/202771590-Action-Step-Script&quot;&gt;Script&lt;/a&gt;<br/>            action step using the clipboard as temporary storage.<br/>        &lt;/p&gt;<br/><br/>        &lt;pre&gt; working-copy://x-callback-url/write/?repo={{jekyll-site}}&amp;amp;path={{posts/}}[[date]].md&amp;amp;text=---%0a{{layout: post}}%0a{{title: }}[[title]]%0a---%0a[[body]]&amp;amp;key={{12345678}}&lt;/pre&gt;<br/><br/>    &lt;/div&gt;<br/><br/>    &lt;h2 id=&quot;chaining-callbacks&quot;&gt;Chaining callbacks&lt;/h2&gt;<br/>    &lt;div class=&quot;inner&quot;&gt;<br/><br/>    &lt;p&gt;&lt;img class=&quot;old anim&quot; src=&quot;img/textastic-new.gif&quot; alt=&quot;Link is clicked that opens Working Copy and then sends file contents into Textastic to create new file.&quot; /&gt;<br/>        URL callbacks can get pretty complicated when you want to send the result of one callback along to<br/>       another URL callback. &lt;/p&gt;<br/>    <br/>    &lt;p id=&quot;textastic-example&quot;&gt;<br/>        To create a new text file in &lt;a href=&quot;http://www.textasticapp.com/v4/manual/x-callback-url.html&quot;&gt;Textastic&lt;/a&gt;<br/>        with the filename &quot;two words.txt&quot; you would use the following URL:&lt;/p&gt;<br/>    &lt;pre&gt;textastic://x-callback-url/new?name=two%20words.txt&amp;amp;text=hello%20there&lt;/pre&gt;<br/>    &lt;p&gt;<br/>     If you wanted to create this file with content from the file &lt;em&gt;README.md&lt;/em&gt; in the repository &lt;em&gt;my repo&lt;/em&gt;<br/>     you would need to URL escape the callback to Textastic which gives rise to double-encoding of parameters passed<br/>     along.&lt;br/&gt; &lt;em style=&quot;font-size: small&quot;&gt;space â†’ %20 â†’ %2520&lt;/em&gt;&lt;/p&gt;<br/>     &lt;pre&gt;working-copy://x-callback-url/read/?repo=my%20repo&amp;amp;path=README.md&amp;amp;x-success=textastic%3A%2F%2Fx-callback-url%2Fnew%3Fname%3Dtwo%2520words.txt%26text%3D&lt;/pre&gt;<br/><br/>    &lt;p id=&quot;mailto-example&quot;&gt;You could also start a new email with the contents of this file, by making &lt;em&gt;x-success&lt;/em&gt;<br/>       use the &lt;em&gt;mailto:&lt;/em&gt; scheme with something like<br/>       &lt;pre&gt;working-copy://x-callback-url/read/?repo=my%20repo&amp;amp;path=README.md&amp;amp;x-success=mailto%3A%3Fbody%3D&lt;/pre&gt;<br/>       &lt;p&gt;If you need to debug your callbacks, setting &lt;em&gt;x-success=mailto%3A%3Fbody%3D&lt;/em&gt;<br/>       can be very helpful.&lt;/p&gt;<br/>     &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/><br/>&lt;div style=&quot;clear: both&quot;&gt; &lt;/div&gt;<br/>&lt;footer&gt;<br/>    Read the &lt;a href=&quot;/manual.html&quot;&gt;manual&lt;/a&gt; or the &lt;a href=&quot;/?newsletter&quot;&gt;newsletter&lt;/a&gt; and get<br/>    in touch by &lt;a href=&quot;/enable-js.html&quot; id=&quot;email&quot; title=&quot;email&quot;&gt;email&lt;/a&gt; or on &lt;a href=&quot;http://twitter.com/palmin&quot; target=&quot;twitter&quot;&gt;Twitter&lt;/a&gt;.<br/>&lt;/footer&gt;<br/>&lt;!--[if lt IE 7 ]&gt;<br/>&lt;script src=&quot;/js/dd_belatedpng.js&quot;&gt;&lt;/script&gt;<br/>&lt;script&gt;DD_belatedPNG.fix(&apos;img, .png_bg&apos;); // Fix any &lt;img&gt; or .png_bg bg-images. Also, please read goo.gl/mZiyb&lt;/script&gt;<br/>&lt;![endif]--&gt;<br/>&lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;<br/>&lt;script&gt;<br/>    function setupVideos() {<br/>        $(&apos;img.animated&apos;).each(function() {<br/>            var img = $(this)[0];<br/>            var src = img.getAttribute(&quot;src&quot;);<br/>            var alt = img.getAttribute(&quot;video-alt&quot;);<br/>            if(!alt) alt = img.getAttribute(&quot;alt&quot;);<br/><br/>            var base = src.replace(&quot;img/&quot;, &quot;&quot;);<br/>            base = base.replace(&quot;.png&quot;, &quot;&quot;).replace(&quot;.jpg&quot;, &quot;&quot;);<br/><br/>            var container = document.createElement(&quot;div&quot;);<br/>            container.setAttribute(&quot;class&quot;, &quot;container&quot;);<br/><br/>            var video = document.createElement(&quot;video&quot;);<br/>            video.setAttribute(&quot;poster&quot;, &quot;video/&quot; + base + &quot;.jpg&quot;);<br/>            video.setAttribute(&quot;muted&quot;, &quot;true&quot;);<br/>            video.setAttribute(&quot;preload&quot;, &quot;none&quot;);<br/>            video.setAttribute(&quot;class&quot;, &quot;animated&quot;);<br/>            video.spinner_started = false;<br/>            if(alt) video.setAttribute(&quot;alt&quot;, alt);<br/><br/>            var playButton = document.createElement(&quot;img&quot;);<br/>            playButton.setAttribute(&quot;class&quot;, &quot;playButton&quot;);<br/>            playButton.setAttribute(&quot;src&quot;, &quot;video/play.png&quot;);<br/><br/>            var source = document.createElement(&quot;source&quot;);<br/>            source.setAttribute(&quot;src&quot;, &quot;video/&quot; + base + &quot;.mp4&quot;);<br/>            source.setAttribute(&quot;type&quot;, &quot;video/mp4&quot;);<br/>            video.oncanplay = function() {<br/>                playButton.parentNode.removeChild(playButton);<br/>                video.setAttribute(&quot;controls&quot;, &quot;true&quot;);<br/>                video.setAttribute(&quot;class&quot;, &quot;animated started&quot;);<br/>            };<br/>            video.onclick = function() {<br/>                if(!video.spinner_started) {<br/>                    video.spinner_started = true;<br/>                    playButton.setAttribute(&quot;class&quot;, &quot;playButton spinning&quot;);<br/>                }<br/><br/>                var isPlaying = !!(video.currentTime &gt; 0 &amp;&amp; !video.paused &amp;&amp; !video.ended &amp;&amp; video.readyState &gt; 2);<br/>                if(isPlaying) video.pause();<br/>                else {<br/>                    video.play();<br/>                }<br/>            };<br/>            playButton.onclick = video.onclick;<br/><br/>            video.appendChild(source);<br/>            container.appendChild(video);<br/>            container.appendChild(playButton);<br/><br/>            img.parentNode.insertBefore(container, img.nextSibling);<br/>        });<br/>    }<br/><br/>    function imgLoaded(img) {<br/>        img.parentNode.style.background = &apos;transparent&apos;;<br/>    };<br/><br/>    function rev(s) { return s.length &lt;= 1 ? s : rev(s.substr(1)) + s.substr(0,1); }<br/><br/>    $(document).ready(function () {<br/>        var email = document.getElementById(&quot;email&quot;);<br/>        email.href = &quot;mailto:&quot; + rev(&quot;moc.ppaypocgnikrow@sredna&quot;);<br/><br/>        setupVideos();<br/>    });<br/>&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</body></html>